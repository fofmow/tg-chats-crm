# Telegram CRM Bot

Мини-CRM система в Telegram для учета входящих и исходящих платежей.

## Функции

- Автоматический сбор данных о платежах из групповых чатов
- Меню администратора с отчетами
- Генерация Excel-отчетов
- Учет дебита/кредита

## Установка

### 1. Клонировать репозиторий

```bash
git clone <repo-url>
cd tg-chats-crm
```

### 2. Настроить переменные окружения

```bash
cp .env.example .env
# Отредактируйте .env файл
```

### 3. Запустить через Docker

```bash
docker-compose up -d
```

### Или локально

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или venv\Scripts\activate  # Windows

pip install -r requirements.txt
python -m bot.main
```

## Форматы сообщений

### Pay-in чаты (RU/ENG)

```
дата: 01.02.2026
сумма: 5000
клиент: Иванов
преподаватель: Петров
```

### Pay-out чат

```
Дата: 01.02.2026
Сумма: 3000
Категория: Зарплата
Кому: Сидоров
```

## Команды бота

- `/start` - Главное меню (только для админа)

## Меню

- **Дебит/Кредит** - Сумма входящих vs исходящих
- **Отчет за 7 дней** - Excel с транзакциями за неделю
- **Текущий баланс** - Разница входящих и исходящих
- **Последний входящий** - Детали последнего pay-in
- **Последний исходящий** - Детали последнего pay-out
